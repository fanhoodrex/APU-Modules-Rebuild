<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${targetQuestion.title}"></title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-theme.css">
    <link rel="stylesheet" href="css/community.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/bootstrap.js" type="application/javascript"></script>
</head>

<body>
<nav class="navbar navbar-default" th:replace="~{common/guideBar::guideBar}"></nav>
<div class="container-fluid main">
    <div class="row">
        <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
            <div class="row" style="margin-left: 5px; margin-right: 5px">
                <div class="page-header">
                    <img style="float: right" class="media-object img-rounded" th:src="${targetQuestion.user.avatarUrl}"
                         th:alt="${targetQuestion.user.avatarUrl}">

                    <h1 th:text="${targetQuestion.title}"></h1>
                    <span class="text-desc">
                <small th:text="${targetQuestion.user.accountName}"></small>|
                <small th:text="${targetQuestion.commentCount}"></small>个回复 |
                    <span th:text="${targetQuestion.viewCount}"></span>个浏览
                </span>
                </div>
            </div>
            
            <div class="btn-group" th:each="tag : ${tags}">
                <button class="btn btn-info btn-xs" type="button"   style="margin-right: 5px" aria-haspopup="true" aria-expanded="false" onclick="setTag('java')">
                    <span class="glyphicon glyphicon-tags"></span>
                    [[${tag}]]
                </button>
            </div>
            <hr>
            <div class="panel panel-default">
                <div class="panel-body" th:text="${targetQuestion.description}">
                </div>

            </div>
            <div class="row">

                <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12" style="float: right"
                     th:if="${user.id} == ${targetQuestion.user.id}">
                    <a th:href="@{/modify(id=${targetQuestion.id})}">
                        <button type="button" class="btn btn-success btn-publish">修改</button>
                    </a>
                </div>

            </div>
            <hr>
            <h2 class="glyphicon glyphicon-pencil" aria-hidden="true">评论区</h2>
            <br>
            <br>

            <div class="panel panel-info" th:each="answer : ${answers}">
                <div class="panel-heading">
                    <h3 class="panel-title">[[${answer.answerName}]]</h3>
                </div>
                <div class="panel-body" style="word-break: break-word">
                    [[${answer.content}]]
                    <p style="float:right;" class="text-desc"
                       th:text="${answer.gmtCreate == 0? '' : #dates.format(answer.gmtCreate, 'yyyy年MM月dd日')}"></p>
                </div>
            </div>
            
                    <form class="input-group" th:action="@{/addComment(questionId=${targetQuestion.id})}" method="post">
                        <textarea style="width: 1035px; height: 200px; "  class="form-group" placeholder="说点什么?" name="comment" id="comment"></textarea>
                        <br>
                        <button type="submit" style="float: right" class="btn btn-info">发布评论</button>
                        <input style="width: 200px; float: right" type="text" class="form-control" placeholder="输入姓名" max="10" name="commentName" id="commentName">
                                
                    </form>
                
            
        </div>
        <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">

            <h2 class="glyphicon glyphicon-pencil" aria-hidden="true">说明</h2>
            <hr>
            <p>这是一个用来记录个人学习的网站</p>
            <p>通过使用bootstrap来实现一些简单的前端样式</p>
            <p>实现了通过github登录</p>
            <p>简单的分页查询</p>
        </div>
    </div>
</div>

</body>
</html>